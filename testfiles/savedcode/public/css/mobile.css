/* Mobile-only styles - loaded via media query in HTML */
/* This file only applies to mobile devices and doesn't affect desktop */

* {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

body {
  overscroll-behavior: none;
}

/* Header - compact for mobile */
header {
  padding: 10px 15px;
}

header .header-content {
  flex-wrap: wrap;
  gap: 10px;
}

.logo {
  font-size: 1.2rem;
}

.header-actions {
  flex-wrap: wrap;
  gap: 8px;
}

.header-actions .btn {
  padding: 8px 12px;
  font-size: 12px;
}

/* Container - less padding */
.container {
  padding: 10px;
}

/* Library grid - responsive columns */
/* Default (outer display): 2 columns */
.library-grid {
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  padding: 10px 0;
}

.manga-card-title {
  font-size: 12px;
  margin-top: 6px;
}

.manga-card-badges {
  top: 4px;
  left: 4px;
  gap: 3px;
}

.badge {
  padding: 2px 5px;
  font-size: 9px;
}

/* Manga detail page */
.manga-detail {
  padding: 10px 0px;
}

/* Cover screen (outer display) - stacked layout */
.manga-detail-header {
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 12px;
}

.manga-detail-cover {
  width: 140px;
  flex-shrink: 0;
}

.manga-detail-cover .cover-wrapper {
  width: 100%;
}

.manga-detail-info {
  width: 100%;
}

.manga-detail-info h1 {
  font-size: 1.2rem;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.3;
}

/* Collapsible original title on mobile */
.manga-original-title {
  color: var(--text-muted);
  font-size: 11px;
  margin-bottom: 8px;
  cursor: pointer;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  position: relative;
}

.manga-original-title::after {
  content: " ▼";
  font-size: 8px;
}

.manga-original-title.expanded {
  -webkit-line-clamp: unset;
  display: block;
}

.manga-original-title.expanded::after {
  content: " ▲";
}

.manga-detail-meta {
  justify-content: center;
  flex-wrap: wrap;
}

/* Inner display - side by side with larger elements */
@media (min-width: 500px) {
  .manga-detail {
    padding: 15px 20px;
  }
  
  .manga-detail-header {
    flex-direction: row;
    align-items: stretch;
    text-align: left;
    gap: 12px;
    flex-wrap: nowrap;
  }
  
  .manga-detail-cover {
    width: 220px;
    flex-shrink: 0;
  }
  
  .manga-detail-info {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
  }
  
  .manga-detail-info h1 {
    font-size: 1.5rem;
    -webkit-line-clamp: 3;
    margin-bottom: 4px;
  }
  
  .manga-original-title {
    font-size: 13px;
    -webkit-line-clamp: 2;
    margin-bottom: 4px;
  }
  
  .manga-detail-meta {
    justify-content: flex-start;
    margin-bottom: 8px;
  }
  
  /* Actions pushed to bottom of info section */
  .manga-detail-actions {
    margin-top: auto;
    padding-top: 8px;
  }
}

.meta-item {
  padding: 4px 8px;
  font-size: 10px;
  height: 24px;
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
}

/* Category add button - same size as badges */
.category-add-btn {
  width: 24px;
  height: 24px;
  font-size: 14px;
}

/* Category dropdown - position relative to viewport on mobile */
.category-add-badge {
  position: static;
}

.category-add-badge .category-dropdown-menu,
.category-dropdown-menu {
  position: fixed;
  top: auto;
  bottom: 20px;
  left: 10px;
  right: 10px;
  width: auto;
  max-height: 50vh;
  overflow-y: auto;
}

/* Cover screen: Collapsible action buttons */
.manga-detail-actions {
  display: flex;
  flex-direction: column;
  gap: 6px;
  width: 100%;
  padding-bottom: 0;
  margin-bottom: 0;
}

.primary-action-row {
  display: flex;
  gap: 8px;
  width: 100%;
}

.primary-action-row .btn-primary {
  flex: 1;
  padding: 10px 16px;
  font-size: 13px;
}

.more-actions-btn {
  width: 44px;
  padding: 12px !important;
  font-size: 16px !important;
  flex-shrink: 0;
}

.more-actions {
  display: none;
  grid-template-columns: repeat(2, 1fr);
  gap: 6px;
}

.manga-detail-actions.expanded .more-actions {
  display: grid;
}

.manga-detail-actions.expanded .more-actions-btn {
  background: var(--accent);
  color: white;
}

.more-actions .btn {
  padding: 8px 6px;
  font-size: 10px;
  width: 100%;
  justify-content: center;
}

/* Make btn-group contents flow into grid */
.more-actions .btn-group {
  display: contents;
}

/* Hide "Page X of Y" on mobile */
.pagination-info {
  display: none;
}

/* Chapter section */
.chapter-section {
  padding: 12px;
  border-radius: 12px;
}

.chapter-header {
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
}

.chapter-filters {
  flex-wrap: wrap;
  width: 100%;
}

.filter-btn {
  padding: 6px 10px;
  font-size: 11px;
}

.chapter-item {
  padding: 10px 12px;
}

.chapter-number {
  min-width: 70px;
  font-size: 13px;
}

.chapter-title {
  font-size: 12px;
}

.chapter-actions {
  gap: 4px;
}

.btn-icon.small {
  width: 32px;
  height: 32px;
}

/* Category bar */
.category-bar {
  padding: 8px 0;
  gap: 8px;
}

.category-tabs {
  gap: 6px;
}

.category-tab {
  padding: 6px 12px;
  font-size: 12px;
}

/* Modal adjustments */
.modal-content {
  padding: 20px;
  width: 95%;
  max-height: 85vh;
}

.modal-content h2 {
  font-size: 1.2rem;
  margin-bottom: 15px;
}

/* ============================================ */
/* READER - Mobile Touch Zones                  */
/* ============================================ */

.reader {
  /* Prevent pull-to-refresh and overscroll */
  overscroll-behavior: none;
}

/* Touch zone overlays for mobile navigation */
.mobile-touch-zones {
  display: flex;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 5;
  pointer-events: none;
}

.touch-zone {
  pointer-events: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.2s;
}

.touch-zone:active {
  opacity: 1;
  background: rgba(255, 255, 255, 0.05);
}

.touch-zone-left {
  flex: 1;
}

.touch-zone-center {
  flex: 1;
}

.touch-zone-right {
  flex: 1;
}

.touch-zone-icon {
  font-size: 48px;
  color: rgba(255, 255, 255, 0.3);
  pointer-events: none;
}

/* Reader header - more compact */
.reader-header {
  padding: 10px 12px;
}

.reader-title {
  font-size: 12px;
  max-width: 50%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.reader-title a {
  display: inline;
}

.reader-title span {
  display: none;
}

.reader-controls {
  gap: 4px;
}

.reader-control-btn {
  width: 36px;
  height: 36px;
  font-size: 16px;
}

/* Hide zoom slider on mobile - use pinch instead */
.zoom-control {
  display: none;
}

/* Reader footer */
.reader-footer {
  padding: 8px 12px;
}

.reader-footer .btn {
  padding: 8px 12px;
  font-size: 12px;
}

.page-indicator {
  font-size: 12px;
}

/* Webtoon mode - full width images */
.reader-content.webtoon {
  padding: 0;
}

.reader-content.webtoon img {
  max-width: 100% !important;
  width: 100%;
}

/* Manga mode - better touch targets */
.reader-content.manga {
  cursor: default;
}

.reader-content.manga img.manga-page {
  max-width: 50%;
  pointer-events: none;
}

.reader-content.manga img.manga-page:only-child {
  max-width: 100%;
}

/* Toast positioning for mobile */
.toast-container {
  top: auto;
  bottom: 70px;
  right: 10px;
  left: 10px;
}

.toast {
  padding: 12px 15px;
  font-size: 13px;
}

/* Versions dropdown - better for touch */
.versions-dropdown {
  padding: 6px;
}

.version-row {
  padding: 12px;
  gap: 8px;
}

.version-label {
  font-size: 10px;
  padding: 3px 6px;
}

.version-title-text {
  font-size: 12px;
}

/* Duplicate manager */
.duplicate-manager {
  margin-bottom: 15px;
}

.duplicate-header-bar {
  padding: 12px;
}

.duplicate-content {
  padding: 10px;
}

.duplicate-group {
  padding: 10px;
}

.duplicate-version-row {
  padding: 10px;
}

/* Cover grid - responsive columns */
/* Default (outer display): 3 columns */
.cover-grid {
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

/* Series entries grid - responsive columns */
/* Default (outer display): 3 columns */
.series-entries-grid {
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

/* Inner display portrait (min-width ~600px): 5 columns */
@media (min-width: 700px) {
  .library-grid,
  .cover-grid,
  .series-entries-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}

/* Inner display landscape (min-width ~900px): 6 columns */
@media (min-width: 750px) {
  .library-grid,
  .cover-grid {
    grid-template-columns: repeat(6, 1fr);
  }
  /* Series entries stays at 5 columns max */
}

/* Tablet/inner display adjustments */
@media (min-width: 600px) {
  .manga-detail-cover {
    width: 160px;
  }
  
  .manga-detail-info h1 {
    font-size: 1.4rem;
  }
  
  .manga-detail-original {
    font-size: 13px;
  }
  
  .meta-item {
    padding: 4px 10px;
    font-size: 11px;
  }
  
  .manga-detail-actions {
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }
  
  .manga-detail-actions .btn {
    padding: 10px 12px;
    font-size: 12px;
  }
}

/* Wider tablet/landscape */
@media (min-width: 900px) {
  .manga-detail-cover {
    width: 200px;
  }
  
  .manga-detail-info h1 {
    font-size: 1.6rem;
  }
  
  .manga-detail-actions {
    display: flex;
    flex-wrap: wrap;
    width: auto;
    gap: 10px;
  }
  
  .manga-detail-actions .btn {
    width: auto;
    padding: 10px 16px;
    font-size: 13px;
  }
}

/* ===== DOWNLOAD MANAGER - Mobile ===== */
.download-manager-fab {
  width: 52px;
  height: 52px;
  font-size: 24px;
  bottom: 15px;
  right: 15px;
}

.download-manager-panel {
  bottom: 80px;
  right: 10px;
  left: 10px;
  width: auto;
  max-width: none;
  max-height: 50vh;
}

.dm-header {
  padding: 12px;
}

.dm-header h3 {
  font-size: 15px;
}

.dm-header-actions {
  gap: 8px;
}

.dm-header-actions .btn-icon.xs {
  width: 36px;
  height: 36px;
  font-size: 18px;
}

.dm-content {
  padding: 10px;
}

.dm-task {
  padding: 12px;
}

.dm-task-title {
  font-size: 14px;
}

.dm-task-status {
  font-size: 12px;
}

.dm-task-actions {
  gap: 8px;
}

.dm-task-actions .btn-icon {
  width: 36px;
  height: 36px;
  font-size: 16px;
}
